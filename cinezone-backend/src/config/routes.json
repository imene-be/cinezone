{
  "public": [
    { "method": "GET", "path": "/movies", "handler": "movieService.getAllMovies", "useQuery": true, "validation": "paginationValidation" },
    { "method": "GET", "path": "/movies/:id", "handler": "movieService.getMovieById", "useParams": ["id"], "validation": "movieIdValidation" },
    { "method": "GET", "path": "/categories", "handler": "categoryService.getAllCategories", "useQuery": true, "validation": "paginationValidation" },
    { "method": "POST", "path": "/auth/register", "handler": "userService.register", "useBody": true, "statusCode": 201, "validation": "registerValidation" },
    { "method": "POST", "path": "/auth/login", "handler": "userService.login", "useBody": ["email", "password"], "validation": "loginValidation" }
  ],
  "protected": [
    { "method": "GET", "path": "/users/profile", "handler": "userService.getProfile", "useUser": true },
    { "method": "PUT", "path": "/users/profile", "handler": "userService.updateProfile", "useUser": true, "useBody": true, "validation": "updateProfileValidation" },
    { "method": "PUT", "path": "/users/password", "handler": "userService.updatePassword", "useUser": true, "useBody": true, "validation": "updatePasswordValidation" },
    { "method": "GET", "path": "/watchlist", "handler": "watchlistService.getUserWatchlist", "useUser": true },
    { "method": "POST", "path": "/watchlist", "handler": "watchlistService.addToWatchlist", "useUser": true, "useBody": ["movieId"], "statusCode": 201, "validation": "watchlistValidation" },
    { "method": "DELETE", "path": "/watchlist/:movieId", "handler": "watchlistService.removeFromWatchlist", "useUser": true, "useParams": ["movieId"], "validation": "watchlistParamValidation" },
    { "method": "GET", "path": "/notes", "handler": "noteService.getUserNotes", "useUser": true },
    { "method": "POST", "path": "/notes", "handler": "noteService.createOrUpdateNote", "useUser": true, "useBody": true, "statusCode": 201, "validation": "createNoteValidation" },
    { "method": "PUT", "path": "/notes/:id", "handler": "noteService.updateNote", "useUser": true, "useParams": ["id"], "useBody": true, "validation": "updateNoteValidation" },
    { "method": "DELETE", "path": "/notes/:id", "handler": "noteService.deleteNote", "useUser": true, "useParams": ["id"], "validation": "noteIdValidation" },
    { "method": "GET", "path": "/history", "handler": "historyService.getUserHistory", "useUser": true, "useQuery": true, "validation": "paginationValidation" }
  ],
  "admin": [
    { "method": "GET", "path": "/uploads/:id", "handler": "movieService.getImages", "useBody": true, "useUpload": true, "uploadField": "poster", "useFile": true, "statusCode": 201 },
    { "method": "POST", "path": "/movies", "handler": "movieService.createMovie", "useBody": true, "useUpload": true, "uploadField": "poster", "useFile": true, "statusCode": 201, "validation": "createMovieValidation" },
    { "method": "PUT", "path": "/movies/:id", "handler": "movieService.updateMovie", "useParams": ["id"], "useBody": true, "useUpload": true, "uploadField": "poster", "useFile": true, "validation": "updateMovieValidation" },
    { "method": "DELETE", "path": "/movies/:id", "handler": "movieService.deleteMovie", "useParams": ["id"], "validation": "movieIdValidation" },
    { "method": "POST", "path": "/categories", "handler": "categoryService.createCategory", "useBody": true, "statusCode": 201, "validation": "createCategoryValidation" },
    { "method": "PUT", "path": "/categories/:id", "handler": "categoryService.updateCategory", "useParams": ["id"], "useBody": true, "validation": "updateCategoryValidation" },
    { "method": "DELETE", "path": "/categories/:id", "handler": "categoryService.deleteCategory", "useParams": ["id"], "validation": "categoryIdValidation" },
    { "method": "GET", "path": "/users", "handler": "userService.getAllUsers", "useQuery": true, "validation": "paginationValidation" },
    { "method": "DELETE", "path": "/users/:id", "handler": "userService.deleteUser", "useParams": ["id"], "validation": "userIdValidation" }
  ]
}
